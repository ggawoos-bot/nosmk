<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사용자 등록/관리</title>
    <!-- Tailwind CSS CDN을 사용하여 스타일링을 적용합니다. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header-bar {
            background-color: #e5e7eb;
            padding: 0.5rem 1rem;
            border-bottom: 1px solid #d1d5db;
        }
        .header-bar span {
            font-weight: 500;
        }
        .btn {
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        .btn-blue {
            background-color: #3b82f6;
            color: white;
        }
        .btn-blue:hover {
            background-color: #2563eb;
        }
        .btn-gray {
            background-color: #e5e7eb;
            color: #4b5563;
        }
        .btn-gray:hover {
            background-color: #d1d5db;
        }
        .form-input {
            width: 100%;
            border-radius: 0.375rem;
            border: 1px solid #d1d5db;
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }
        .grid-header {
            background-color: #dbeafe;
            color: #1e40af;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
        }
        .form-section {
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            padding: 1rem;
            background-color: white;
        }
        /* 라벨 텍스트 크기 조정을 위한 새로운 클래스 */
        .form-label {
            font-size: 0.75rem; /* 글자 크기를 더 작게 조정 (기본 1rem -> 0.75rem) */
        }
        /* 날짜 입력 아이콘을 위한 스타일 */
        .date-input-container {
            position: relative;
            width: 100%;
        }
        .date-input-container input[type="date"] {
            padding-right: 2rem;
        }
        .date-input-container::after {
            content: "📅"; /* 달력 아이콘 */
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: #4b5563;
        }
        /* 사용자그룹 라벨을 빨간색으로 변경하는 클래스 */
        .user-group-label {
            color: #ef4444;
        }
        /* 추가정보 섹션을 숨기기 위한 클래스 */
        .hidden-section {
            display: none;
        }

        /* 팝업 모달 스타일 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            width: 90%;
            max-width: 400px;
            text-align: center;
        }
    </style>
</head>
<body class="bg-gray-100 p-4">

    <!-- 초기 메시지 팝업 모달 -->
    <div id="initialMessageModal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="text-xl font-bold mb-4">사이트 안내</h2>
            <p class="text-gray-700 mb-4">
                본 사이트는 화면 구성여부를 판단하기 위한 가상 사이트입니다.<br>
                사용자그룹(붉은색)을 변경하면 사용자 추가정보를 입력할 수 있습니다.
            </p>
            <div class="flex items-center justify-center mb-4 text-sm">
                <input type="checkbox" id="doNotShowAgain" class="mr-2">
                <label for="doNotShowAgain">앞으로 보이지 않기</label>
            </div>
            <button id="closeModalBtn" class="btn btn-blue w-full">닫기</button>
        </div>
    </div>

    <!-- Header Section -->
    <div class="header-bar flex items-center justify-between rounded-t-lg">
        <div class="flex items-center space-x-2 text-sm">
            <span>사업자 등록 > 사용자 등록/관리</span>
        </div>
        <div class="flex items-center space-x-2">
            <button class="btn btn-blue">신규</button>
            <button class="btn btn-blue">조회</button>
            <button class="btn btn-blue">저장</button>
            <button class="btn btn-blue">취소</button>
            <button class="btn btn-blue">엑셀</button>
            <button class="btn btn-blue">닫기</button>
        </div>
    </div>

    <!-- Main Content Container -->
    <div class="container p-4 bg-white rounded-b-lg shadow-lg">
        <!-- Top Filters Section -->
        <div class="flex items-center space-x-4 mb-4 text-sm">
            <div class="flex items-center space-x-2">
                <span class="form-label">기관유형</span>
                <select class="form-input w-28">
                    <option>보건소</option>
                </select>
            </div>
            <div class="flex items-center space-x-2">
                <span class="form-label">지역</span>
                <select class="form-input w-28">
                    <option>서울특</option>
                </select>
            </div>
            <div class="flex items-center space-x-2">
                <span class="form-label">기관</span>
                <select class="form-input w-28">
                    <option>전체</option>
                </select>
            </div>
            <div class="flex items-center space-x-2">
                <span class="form-label">사용자명</span>
                <input type="text" class="form-input w-28">
            </div>
            <div class="flex items-center space-x-2">
                <!-- 사용자그룹 필터 콤보박스에 새로운 옵션을 적용합니다. -->
                <span class="form-label">사용자그룹</span>
                <select class="form-input w-28">
                    <option>전체</option>
                    <option>시스템관리</option>
                    <option>사업운영자</option>
                    <option>시도 담당자</option>
                    <option>업무담당자</option>
                    <option>금연상담사</option>
                    <option>금연지도원</option>
                    <option>금연상담사+금연지도원</option>
                    <option>금연조사원</option>
                    <option>학교선생님</option>
                    <option>유지보수 담당자</option>
                </select>
            </div>
            <div class="flex items-center space-x-2">
                <span class="form-label">사용자유무</span>
                <select class="form-input w-28">
                    <option>전체</option>
                </select>
            </div>
        </div>

        <!-- Two Column Layout -->
        <div class="grid grid-cols-[1fr_1.15fr] md:grid-cols-[1fr_1.15fr] gap-4">
            <!-- Left Column: User List Grid -->
            <div>
                <div class="flex items-center justify-between mb-2">
                    <span class="font-bold text-lg">사용자 리스트</span>
                    <div class="flex items-center text-sm space-x-2">
                        <input type="checkbox" id="manage_target">
                        <label for="manage_target">관리대상수</label>
                        <button class="btn btn-gray">회사자 조회</button>
                    </div>
                </div>
                <!-- Placeholder for the grid table -->
                <div class="bg-white p-2 border border-gray-300 rounded-md" style="height: 400px;">
                    <!-- Table header placeholder -->
                    <div class="grid grid-cols-4 text-xs font-bold text-gray-700 p-2 border-b border-gray-300">
                        <div>사용자ID</div>
                        <div>이름</div>
                        <div>조직명</div>
                        <div>사용자그룹</div>
                    </div>
                    <!-- Table row placeholder -->
                    <div class="grid grid-cols-4 text-xs p-2 hover:bg-gray-100">
                        <div>사용자ID001</div>
                        <div>홍길동</div>
                        <div>서울 용산구보건소</div>
                        <div>선택</div>
                    </div>
                </div>
            </div>

            <!-- Right Column: User Details and Registration Form -->
            <div>
                <!-- User Details Section -->
                <div class="form-section mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="font-bold text-lg">사용자 상세정보</span>
                        <div class="flex items-center text-red-500 text-sm">
                            <span class="mr-1">※</span> 비밀번호 초기화
                        </div>
                    </div>
                    <!-- Updated layout for user details to ensure labels are in one line -->
                    <div class="grid grid-cols-2 gap-2 text-sm items-center">
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">계정유형</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                                <option>개인</option>
                                <option>조직</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">휴면계정</span>
                            <div class="flex w-3/4 space-x-1">
                                <button class="btn btn-gray">해제</button>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">업무구분</span>
                            <!-- 업무구분 콤보박스에 새로운 옵션을 적용합니다. -->
                            <select class="form-input w-3/4">
                                <option>선택</option>
                                <option>보건소 금연클리닉</option>
                                <option>군의경 금연사업</option>
                                <option>단기금연캠프</option>
                                <option>찾아가는 금연서비스</option>
                                <option>학교흡연예방사업</option>
                                <option>담배마케팅 모니터링</option>
                                <option>금연상담전화</option>
                                <option>금연치료 건강보험 지원사업</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">사용자명</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">사용자ID</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">I-PIN ID</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">조직명</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">고용형태</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <!-- 사용자그룹 상세정보 콤보박스에 새로운 옵션을 적용합니다. -->
                            <span class="form-label text-right w-1/4 user-group-label">사용자그룹</span>
                            <select id="userGroupSelect" class="form-input w-3/4">
                                <option>선택</option>
                                <option>시스템관리</option>
                                <option>사업운영자</option>
                                <option>시도 담당자</option>
                                <option>업무담당자</option>
                                <option>금연상담사</option>
                                <option>금연지도원</option>
                                <option>금연상담사+금연지도원</option>
                                <option>금연조사원</option>
                                <option>학교선생님</option>
                                <option>유지보수 담당자</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">직급</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">성별</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">신규/경력</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">경력</span>
                            <input type="text" class="form-input w-1/2">
                            <span class="form-label">개월</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">지속고용</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">약관동의</span>
                            <select class="form-input w-3/4">
                                <option>미동의</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">사용유무</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">사유</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">사용시작일</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">사용종료일</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="col-span-2 text-xs text-gray-500 mt-2">
                            <span>- 는 전문인력 필수입력입니다.</span>
                        </div>
                    </div>
                </div>

                <!-- 사용자(금연상담사) 추가정보 Section -->
                <div id="additionalInfoSection" class="form-section mb-4 hidden-section">
                    <span class="font-bold text-lg block mb-2">사용자(금연상담사) 추가정보</span>
                    <div class="grid grid-cols-2 gap-2 text-sm items-center">
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">생년월일</span>
                            <div class="date-input-container w-3/4">
                                <input type="date" class="form-input">
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">직위/직급</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">최종학위</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                                <option>고졸</option>
                                <option>대졸</option>
                                <option>대학원석사졸</option>
                                <option>대학원박사졸</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">전공분야</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                                <option>의학</option>
                                <option>간호학</option>
                                <option>보건학</option>
                                <option>상담학</option>
                                <option>심리학</option>
                                <option>교육학</option>
                                <option>기타</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">상담 관련 자격증<br>보유 여부</span>
                            <!-- 라디오 버튼 대신 텍스트 입력 필드로 변경 -->
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">서비스 상담 경력</span>
                            <select class="form-input w-3/4">
                                <option>선택</option>
                                <option>상담전화</option>
                                <option>보건소</option>
                                <option>금연캠프</option>
                                <option>찾금</option>
                                <option>군의경</option>
                                <option>병의원</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">상담업무 시작일</span>
                            <div class="date-input-container w-3/4">
                                <input type="date" class="form-input">
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">교육 이수 여부</span>
                            <!-- 콤보박스와 파일 업로드 버튼을 하나의 flex 컨테이너로 감싸고 width를 조정합니다. -->
                            <div class="flex w-3/4 space-x-2">
                                <select id="educationSelect" class="form-input w-3/5">
                                    <option>선택</option>
                                    <option>기초</option>
                                    <option>기본</option>
                                    <option>심화</option>
                                    <option>기타(이수증 업로드)</option>
                                </select>
                                <!-- 파일 업로드 버튼을 동적으로 제어하기 위해 id를 추가하고 초기에는 숨깁니다. -->
                                <div id="fileUploadContainer" class="hidden-section flex-1">
                                    <input type="file" class="form-input">
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">전화번호</span>
                            <input type="text" class="form-input w-3/4">
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="form-label text-right w-1/4">이메일</span>
                            <input type="email" class="form-input w-3/4">
                        </div>
                    </div>
                </div>

                <!-- Management Target Section -->
                <div class="form-section">
                    <div class="flex items-center justify-between mb-2">
                        <span class="font-bold text-lg">관리 대상자</span>
                        <button class="btn btn-gray">상담사 변경</button>
                    </div>
                    <!-- Placeholder for management target list -->
                    <div class="bg-white p-2 border border-gray-300 rounded-md" style="height: 200px;">
                        <!-- Table header placeholder -->
                        <div class="grid grid-cols-2 text-xs font-bold text-gray-700 p-2 border-b border-gray-300">
                            <div>등록번호</div>
                            <div>이름</div>
                        </div>
                        <!-- Table row placeholder -->
                        <div class="grid grid-cols-2 text-xs p-2 hover:bg-gray-100">
                            <div>123456789</div>
                            <div>김영희</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            // 사용자그룹 콤보박스 요소와 추가정보 영역 요소를 가져옵니다.
            const userGroupSelect = document.getElementById('userGroupSelect');
            const additionalInfoSection = document.getElementById('additionalInfoSection');
            // 교육 이수 여부 콤보박스와 파일 업로드 영역 요소를 가져옵니다.
            const educationSelect = document.getElementById('educationSelect');
            const fileUploadContainer = document.getElementById('fileUploadContainer');
            // 초기 메시지 팝업 관련 요소를 가져옵니다.
            const modal = document.getElementById('initialMessageModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const doNotShowAgainCheckbox = document.getElementById('doNotShowAgain');
            const storageKey = 'showInitialMessage';

            // 페이지 로드 시 팝업을 표시할지 결정합니다.
            // 로컬 스토리지에 저장된 값이 'false'가 아니면 팝업을 표시합니다.
            if (localStorage.getItem(storageKey) !== 'false') {
                modal.style.display = 'flex';
            } else {
                modal.style.display = 'none';
            }

            // '닫기' 버튼 클릭 이벤트 리스너
            closeModalBtn.addEventListener('click', () => {
                // 팝업을 숨깁니다.
                modal.style.display = 'none';
                // '앞으로 보이지 않기' 체크박스가 체크되어 있으면 로컬 스토리지에 값을 저장합니다.
                if (doNotShowAgainCheckbox.checked) {
                    localStorage.setItem(storageKey, 'false');
                }
            });

            // 사용자그룹 콤보박스의 값이 변경될 때마다 함수를 실행합니다.
            userGroupSelect.addEventListener('change', (e) => {
                const selectedValue = e.target.value;

                // 선택된 값이 '금연상담사' 또는 '금연상담사+금연지도원'일 경우
                if (selectedValue === '금연상담사' || selectedValue === '금연상담사+금연지도원') {
                    // 추가정보 영역을 보이게 합니다.
                    additionalInfoSection.classList.remove('hidden-section');
                } else {
                    // 그렇지 않을 경우 추가정보 영역을 숨깁니다.
                    additionalInfoSection.classList.add('hidden-section');
                }
            });

            // 교육 이수 여부 콤보박스의 값이 변경될 때마다 함수를 실행합니다.
            educationSelect.addEventListener('change', (e) => {
                const selectedValue = e.target.value;

                // 선택된 값이 '기타(이수증 업로드)'일 경우
                if (selectedValue === '기타(이수증 업로드)') {
                    // 파일 업로드 영역을 보이게 합니다.
                    fileUploadContainer.classList.remove('hidden-section');
                } else {
                    // 그렇지 않을 경우 파일 업로드 영역을 숨깁니다.
                    fileUploadContainer.classList.add('hidden-section');
                }
            });
        });
    </script>
</body>
</html>
